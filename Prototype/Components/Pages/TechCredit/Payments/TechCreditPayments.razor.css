/* TechCreditPayments.razor.css */
/* Scoped styles for TechCredit Payments page with full appearance system integration */
/* Supports: 9 themes, density settings, border radius variants, accessibility features */

/* ===== Base Layout ===== */
.techcredit-payments-page {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4, 1rem);
    font-family: var(--base-font-family, inherit);
    color: var(--text);
    transition: color var(--transition-normal, 150ms) ease, background-color var(--transition-normal, 150ms) ease;
}

    /* ===== Density-Specific Page Gaps ===== */
    .techcredit-payments-page[data-density="compact"] {
        gap: var(--spacing-3, 0.75rem);
    }

    .techcredit-payments-page[data-density="comfortable"] {
        gap: var(--spacing-4, 1rem);
    }

    .techcredit-payments-page[data-density="spacious"] {
        gap: var(--spacing-6, 1.5rem);
    }

/* ===== PAGE HEADER ===== */
.page-header {
    display: flex;
    flex-direction: column;
    transition: gap var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .page-header {
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="comfortable"] .page-header {
    gap: var(--spacing-4, 1rem);
}

.techcredit-payments-page[data-density="spacious"] .page-header {
    gap: var(--spacing-5, 1.25rem);
}

/* ===== HEADER ROW (Title + Tabs on same line) ===== */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-4, 1rem);
    flex-wrap: wrap;
}

    .header .title {
        margin: 0;
        font-weight: 600;
        color: var(--text);
        font-family: var(--base-font-family, inherit);
        transition: color var(--transition-normal, 150ms) ease;
    }

.techcredit-payments-page[data-density="compact"] .header .title {
    font-size: 1.5rem;
}

.techcredit-payments-page[data-density="comfortable"] .header .title {
    font-size: 1.75rem;
}

.techcredit-payments-page[data-density="spacious"] .header .title {
    font-size: 2rem;
}

.header-main {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-4, 1rem);
    flex-wrap: wrap;
}

.header-left {
    display: flex;
    align-items: center;
}

.techcredit-payments-page[data-density="compact"] .header-left {
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="comfortable"] .header-left {
    gap: var(--spacing-4, 1rem);
}

.techcredit-payments-page[data-density="spacious"] .header-left {
    gap: var(--spacing-5, 1.25rem);
}

.header-main h1,
.header-main h3 {
    margin: 0;
    font-weight: 600;
    color: var(--text);
    font-family: var(--base-font-family, inherit);
    transition: color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .header-main h1,
.techcredit-payments-page[data-density="compact"] .header-main h3 {
    font-size: 1.5rem;
}

.techcredit-payments-page[data-density="comfortable"] .header-main h1,
.techcredit-payments-page[data-density="comfortable"] .header-main h3 {
    font-size: 1.75rem;
}

.techcredit-payments-page[data-density="spacious"] .header-main h1,
.techcredit-payments-page[data-density="spacious"] .header-main h3 {
    font-size: 2rem;
}

/* ===== DISPLAY MODE SELECTOR ===== */
.display-mode-selector {
    display: flex;
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-md, 6px);
    padding: var(--spacing-1, 0.25rem);
    transition: background-color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .display-mode-selector {
    gap: var(--spacing-1, 0.25rem);
}

.techcredit-payments-page[data-density="comfortable"] .display-mode-selector {
    gap: var(--spacing-1, 0.35rem);
}

.techcredit-payments-page[data-density="spacious"] .display-mode-selector {
    gap: var(--spacing-2, 0.5rem);
}

.mode-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    background: transparent;
    color: var(--muted);
    border-radius: var(--radius-sm, 4px);
    cursor: pointer;
    transition: all var(--transition-fast, 100ms) ease;
}

.techcredit-payments-page[data-density="compact"] .mode-btn {
    width: 32px;
    height: 32px;
}

.techcredit-payments-page[data-density="comfortable"] .mode-btn {
    width: 36px;
    height: 36px;
}

.techcredit-payments-page[data-density="spacious"] .mode-btn {
    width: 40px;
    height: 40px;
}

.mode-btn:hover {
    background: var(--hover-bg);
    color: var(--text);
}

.mode-btn.active {
    background: var(--accent);
    color: #ffffff;
}

.mode-btn .k-icon {
    font-size: 1.1rem;
}

/* ===== VIEW SELECTOR TABS (only in tabbed mode) ===== */
.view-selector {
    display: flex;
    gap: var(--spacing-2, 0.5rem);
    background: var(--card-bg);
    padding: var(--spacing-1, 0.25rem);
    border-radius: var(--radius-lg, 8px);
    border: 1px solid var(--border);
    transition: background-color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease;
}

.view-tab {
    display: flex;
    align-items: center;
    gap: var(--spacing-2, 0.5rem);
    padding: var(--spacing-3, 0.75rem) var(--spacing-5, 1.25rem);
    border: none;
    background: transparent;
    color: var(--muted);
    font-size: 0.95rem;
    font-weight: 500;
    font-family: var(--base-font-family, inherit);
    border-radius: var(--radius-md, 6px);
    cursor: pointer;
    transition: all var(--transition-fast, 100ms) ease;
}

    .view-tab:hover {
        background: var(--hover-bg);
        color: var(--text);
    }

    .view-tab.active {
        background: var(--accent);
        color: #ffffff;
        font-weight: 600;
    }

        .view-tab.active .k-icon {
            color: #ffffff;
        }

    .view-tab .k-icon {
        font-size: 1.1rem;
        transition: color var(--transition-fast, 100ms) ease;
    }

/* ===== STATISTICS CARDS ===== */
.header-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.techcredit-payments-page[data-density="compact"] .header-stats {
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="comfortable"] .header-stats {
    gap: var(--spacing-4, 1rem);
}

.techcredit-payments-page[data-density="spacious"] .header-stats {
    gap: var(--spacing-5, 1.25rem);
}

.stat-card {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg, 8px);
    border-left-width: 4px;
    transition: background-color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease, box-shadow var(--transition-normal, 150ms) ease;
}

    .stat-card:hover {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

.techcredit-payments-page[data-density="compact"] .stat-card {
    padding: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="comfortable"] .stat-card {
    padding: var(--spacing-4, 1rem);
}

.techcredit-payments-page[data-density="spacious"] .stat-card {
    padding: var(--spacing-5, 1.25rem);
}

.stat-card.stat-danger {
    border-left-color: var(--kendo-color-error, #dc2626);
}

.stat-card.stat-warning {
    border-left-color: var(--kendo-color-warning, #f59e0b);
}

.stat-card.stat-success {
    border-left-color: var(--kendo-color-success, #10b981);
}

.stat-card.stat-info {
    border-left-color: var(--accent);
}

.stat-label {
    color: var(--muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-family: var(--base-font-family, inherit);
    transition: color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .stat-label {
    font-size: 0.7rem;
    margin-bottom: var(--spacing-1, 0.4rem);
}

.techcredit-payments-page[data-density="comfortable"] .stat-label {
    font-size: 0.8rem;
    margin-bottom: var(--spacing-2, 0.5rem);
}

.techcredit-payments-page[data-density="spacious"] .stat-label {
    font-size: 0.85rem;
    margin-bottom: var(--spacing-2, 0.6rem);
}

.stat-value {
    font-weight: 700;
    color: var(--text);
    font-family: var(--base-font-family, inherit);
    transition: color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .stat-value {
    font-size: 1.5rem;
    margin-bottom: var(--spacing-1, 0.15rem);
}

.techcredit-payments-page[data-density="comfortable"] .stat-value {
    font-size: 1.75rem;
    margin-bottom: var(--spacing-1, 0.25rem);
}

.techcredit-payments-page[data-density="spacious"] .stat-value {
    font-size: 2rem;
    margin-bottom: var(--spacing-1, 0.35rem);
}

.stat-sublabel {
    color: var(--muted);
    font-family: var(--base-font-family, inherit);
    transition: color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .stat-sublabel {
    font-size: 0.8rem;
}

.techcredit-payments-page[data-density="comfortable"] .stat-sublabel {
    font-size: 0.85rem;
}

.techcredit-payments-page[data-density="spacious"] .stat-sublabel {
    font-size: 0.9rem;
}

/* ===== TOOLBAR ===== */
.toolbar-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-md, 6px);
    flex-wrap: wrap;
    transition: background-color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .toolbar-section {
    padding: var(--spacing-2, 0.5rem);
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="comfortable"] .toolbar-section {
    padding: var(--spacing-3, 0.75rem);
    gap: var(--spacing-4, 1rem);
}

.techcredit-payments-page[data-density="spacious"] .toolbar-section {
    padding: var(--spacing-4, 1rem);
    gap: var(--spacing-5, 1.25rem);
}

.toolbar-left,
.toolbar-right {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
}

.techcredit-payments-page[data-density="compact"] .toolbar-left,
.techcredit-payments-page[data-density="compact"] .toolbar-right {
    gap: var(--spacing-2, 0.5rem);
}

.techcredit-payments-page[data-density="comfortable"] .toolbar-left,
.techcredit-payments-page[data-density="comfortable"] .toolbar-right {
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="spacious"] .toolbar-left,
.techcredit-payments-page[data-density="spacious"] .toolbar-right {
    gap: var(--spacing-4, 1rem);
}

/* Toolbar button overrides for theme integration */
.toolbar-section .k-button-solid-base {
    background: var(--card-bg);
    border-color: var(--border);
    color: var(--text);
    transition: all var(--transition-fast, 100ms) ease;
}

    .toolbar-section .k-button-solid-base:hover {
        background: var(--hover-bg);
        border-color: var(--accent);
    }

.toolbar-section .k-button-solid-primary {
    background: var(--accent);
    border-color: var(--accent);
    color: #ffffff;
    transition: all var(--transition-fast, 100ms) ease;
}

    .toolbar-section .k-button-solid-primary:hover {
        background: var(--accent-hover);
        border-color: var(--accent-hover);
    }

.toolbar-section .k-button-solid-success {
    background: var(--kendo-color-success, #10b981);
    border-color: var(--kendo-color-success, #10b981);
    color: #ffffff;
    transition: all var(--transition-fast, 100ms) ease;
}

    .toolbar-section .k-button-solid-success:hover {
        filter: brightness(1.1);
    }

.date-range-filter {
    display: flex;
    align-items: center;
}

.techcredit-payments-page[data-density="compact"] .date-range-filter {
    gap: var(--spacing-2, 0.5rem);
}

.techcredit-payments-page[data-density="comfortable"] .date-range-filter {
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="spacious"] .date-range-filter {
    gap: var(--spacing-4, 1rem);
}

.date-range-filter label {
    font-weight: 600;
    color: var(--muted);
    white-space: nowrap;
    font-family: var(--base-font-family, inherit);
    transition: color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .date-range-filter label {
    font-size: 0.85rem;
}

.techcredit-payments-page[data-density="comfortable"] .date-range-filter label {
    font-size: 0.9rem;
}

.techcredit-payments-page[data-density="spacious"] .date-range-filter label {
    font-size: 0.95rem;
}

/* ===== DATA SECTIONS (for sections and alldata modes) ===== */
.data-section {
    display: flex;
    flex-direction: column;
}

.techcredit-payments-page[data-density="compact"] .data-section {
    gap: var(--spacing-2, 0.5rem);
}

.techcredit-payments-page[data-density="comfortable"] .data-section {
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="spacious"] .data-section {
    gap: var(--spacing-4, 1rem);
}

/* Collapsible section title (sections mode) */
.section-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-md, 6px);
    cursor: pointer;
    transition: all var(--transition-fast, 100ms) ease;
}

.techcredit-payments-page[data-density="compact"] .section-title {
    padding: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="comfortable"] .section-title {
    padding: var(--spacing-4, 1rem);
}

.techcredit-payments-page[data-density="spacious"] .section-title {
    padding: var(--spacing-5, 1.25rem);
}

.section-title:hover {
    background: var(--hover-bg);
    border-color: var(--accent);
}

/* Static section title (alldata mode - not clickable) */
.section-title-static {
    display: flex;
    align-items: center;
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-md, 6px);
    transition: background-color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .section-title-static {
    padding: var(--spacing-3, 0.75rem);
    gap: var(--spacing-2, 0.5rem);
}

.techcredit-payments-page[data-density="comfortable"] .section-title-static {
    padding: var(--spacing-4, 1rem);
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="spacious"] .section-title-static {
    padding: var(--spacing-5, 1.25rem);
    gap: var(--spacing-4, 1rem);
}

.section-title-content {
    display: flex;
    align-items: center;
}

.techcredit-payments-page[data-density="compact"] .section-title-content {
    gap: var(--spacing-2, 0.5rem);
}

.techcredit-payments-page[data-density="comfortable"] .section-title-content {
    gap: var(--spacing-3, 0.75rem);
}

.techcredit-payments-page[data-density="spacious"] .section-title-content {
    gap: var(--spacing-4, 1rem);
}

.section-title h2,
.section-title-static h2 {
    margin: 0;
    font-weight: 600;
    color: var(--text);
    font-family: var(--base-font-family, inherit);
    transition: color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .section-title h2,
.techcredit-payments-page[data-density="compact"] .section-title-static h2 {
    font-size: 1.1rem;
}

.techcredit-payments-page[data-density="comfortable"] .section-title h2,
.techcredit-payments-page[data-density="comfortable"] .section-title-static h2 {
    font-size: 1.25rem;
}

.techcredit-payments-page[data-density="spacious"] .section-title h2,
.techcredit-payments-page[data-density="spacious"] .section-title-static h2 {
    font-size: 1.4rem;
}

.section-title .k-icon,
.section-title-static .k-icon {
    color: var(--accent);
    transition: color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .section-title .k-icon,
.techcredit-payments-page[data-density="compact"] .section-title-static .k-icon {
    font-size: 1rem;
}

.techcredit-payments-page[data-density="comfortable"] .section-title .k-icon,
.techcredit-payments-page[data-density="comfortable"] .section-title-static .k-icon {
    font-size: 1.15rem;
}

.techcredit-payments-page[data-density="spacious"] .section-title .k-icon,
.techcredit-payments-page[data-density="spacious"] .section-title-static .k-icon {
    font-size: 1.3rem;
}

/* Section type indicators with accent colors */
.past-due-section .section-title,
.past-due-section .section-title-static,
.compact-past-due-section .section-title {
    border-left: 4px solid var(--kendo-color-error, #dc2626);
}

.scheduled-section .section-title,
.scheduled-section .section-title-static,
.compact-scheduled-section .section-title {
    border-left: 4px solid var(--accent);
}

.history-section .section-title,
.history-section .section-title-static,
.compact-history-section .section-title {
    border-left: 4px solid var(--muted);
}

.remitted-section .section-title,
.remitted-section .section-title-static,
.compact-remitted-section .section-title {
    border-left: 4px solid var(--kendo-color-success, #10b981);
}

/* ===== GRID CONTAINER ===== */
.grid-container {
    overflow: hidden;
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-md, 6px);
    transition: background-color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease;
}

/* Tabbed mode - single grid takes full space */
.techcredit-payments-page[data-display-mode="tabbed"] .grid-container {
    flex: 1;
}

/* Grid theming integration */
.grid-container .k-grid {
    border: none;
    background: var(--card-bg);
}

.grid-container .k-grid-header {
    background: var(--hover-bg);
    border-color: var(--border);
}

    .grid-container .k-grid-header th {
        background: transparent;
        border-color: var(--border);
        color: var(--text);
        font-weight: 600;
    }

.grid-container .k-grid-content {
    background: var(--card-bg);
}

.grid-container .k-grid td {
    border-color: var(--border);
    color: var(--text);
    transition: background-color var(--transition-fast, 100ms) ease;
}

.grid-container .k-grid tr:hover td {
    background: var(--row-hover, var(--hover-bg));
}

.grid-container .k-grid tr.k-selected td {
    background: var(--accent-weak);
    color: var(--text);
}

/* Grid lines setting support */
.show-grid-lines .grid-container .k-grid td {
    border-width: 1px;
}

/* ===== CUSTOM CELL STYLES ===== */
.days-overdue {
    display: inline-flex;
    align-items: center;
    border-radius: var(--radius-sm, 4px);
    font-weight: 600;
    font-family: var(--base-font-family, inherit);
    transition: background-color var(--transition-normal, 150ms) ease, color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .days-overdue {
    padding: var(--spacing-1, 0.15rem) var(--spacing-2, 0.5rem);
    font-size: 0.75rem;
}

.techcredit-payments-page[data-density="comfortable"] .days-overdue {
    padding: var(--spacing-1, 0.25rem) var(--spacing-3, 0.75rem);
    font-size: 0.85rem;
}

.techcredit-payments-page[data-density="spacious"] .days-overdue {
    padding: var(--spacing-1, 0.35rem) var(--spacing-4, 1rem);
    font-size: 0.9rem;
}

/* Days overdue severity badges using color-mix for theme awareness */
.days-overdue.days-critical {
    background: color-mix(in srgb, var(--kendo-color-error, #dc2626) 15%, var(--card-bg));
    color: var(--kendo-color-error, #dc2626);
    border: 1px solid color-mix(in srgb, var(--kendo-color-error, #dc2626) 40%, transparent);
}

.days-overdue.days-high {
    background: color-mix(in srgb, var(--kendo-color-warning, #f59e0b) 15%, var(--card-bg));
    color: var(--kendo-color-warning-text, #92400e);
    border: 1px solid color-mix(in srgb, var(--kendo-color-warning, #f59e0b) 40%, transparent);
}

.days-overdue.days-medium {
    background: color-mix(in srgb, var(--kendo-color-warning, #f59e0b) 12%, var(--card-bg));
    color: var(--kendo-color-warning-text, #92400e);
    border: 1px solid color-mix(in srgb, var(--kendo-color-warning, #f59e0b) 30%, transparent);
}

.days-overdue.days-low {
    background: color-mix(in srgb, var(--accent) 15%, var(--card-bg));
    color: var(--accent);
    border: 1px solid color-mix(in srgb, var(--accent) 40%, transparent);
}

.past-due-amount {
    color: var(--kendo-color-error, #dc2626);
    font-weight: 700;
    transition: color var(--transition-normal, 150ms) ease;
}

/* ===== SCHEDULED DATE BADGES ===== */
.scheduled-date {
    display: flex;
    align-items: center;
    transition: color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .scheduled-date {
    gap: var(--spacing-1, 0.35rem);
}

.techcredit-payments-page[data-density="comfortable"] .scheduled-date {
    gap: var(--spacing-2, 0.5rem);
}

.techcredit-payments-page[data-density="spacious"] .scheduled-date {
    gap: var(--spacing-2, 0.65rem);
}

.scheduled-date.due-soon {
    color: var(--kendo-color-warning, #f59e0b);
    font-weight: 600;
}

.days-badge {
    display: inline-flex;
    background: color-mix(in srgb, var(--kendo-color-warning, #f59e0b) 15%, var(--card-bg));
    color: var(--kendo-color-warning-text, #92400e);
    border-radius: var(--radius-sm, 4px);
    font-weight: 600;
    font-family: var(--base-font-family, inherit);
    border: 1px solid color-mix(in srgb, var(--kendo-color-warning, #f59e0b) 40%, transparent);
    transition: background-color var(--transition-normal, 150ms) ease, color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .days-badge {
    padding: var(--spacing-0, 0.1rem) var(--spacing-1, 0.4rem);
    font-size: 0.7rem;
}

.techcredit-payments-page[data-density="comfortable"] .days-badge {
    padding: var(--spacing-1, 0.15rem) var(--spacing-2, 0.5rem);
    font-size: 0.75rem;
}

.techcredit-payments-page[data-density="spacious"] .days-badge {
    padding: var(--spacing-1, 0.2rem) var(--spacing-2, 0.6rem);
    font-size: 0.8rem;
}

/* ===== STATUS BADGES ===== */
.badge {
    display: inline-flex;
    border-radius: var(--radius-sm, 4px);
    font-weight: 600;
    border: 1px solid;
    font-family: var(--base-font-family, inherit);
    transition: background-color var(--transition-normal, 150ms) ease, color var(--transition-normal, 150ms) ease, border-color var(--transition-normal, 150ms) ease;
}

.techcredit-payments-page[data-density="compact"] .badge {
    padding: var(--spacing-1, 0.15rem) var(--spacing-2, 0.5rem);
    font-size: 0.75rem;
}

.techcredit-payments-page[data-density="comfortable"] .badge {
    padding: var(--spacing-1, 0.25rem) var(--spacing-3, 0.75rem);
    font-size: 0.8rem;
}

.techcredit-payments-page[data-density="spacious"] .badge {
    padding: var(--spacing-1, 0.3rem) var(--spacing-3, 0.85rem);
    font-size: 0.85rem;
}

/* Theme-aware badge colors using color-mix */
.badge-success {
    background: color-mix(in srgb, var(--kendo-color-success, #10b981) 15%, var(--card-bg));
    color: var(--kendo-color-success, #10b981);
    border-color: color-mix(in srgb, var(--kendo-color-success, #10b981) 40%, transparent);
}

.badge-warning {
    background: color-mix(in srgb, var(--kendo-color-warning, #f59e0b) 15%, var(--card-bg));
    color: var(--kendo-color-warning-text, #92400e);
    border-color: color-mix(in srgb, var(--kendo-color-warning, #f59e0b) 40%, transparent);
}

.badge-danger {
    background: color-mix(in srgb, var(--kendo-color-error, #dc2626) 15%, var(--card-bg));
    color: var(--kendo-color-error, #dc2626);
    border-color: color-mix(in srgb, var(--kendo-color-error, #dc2626) 40%, transparent);
}

.badge-info {
    background: color-mix(in srgb, var(--accent) 15%, var(--card-bg));
    color: var(--accent);
    border-color: color-mix(in srgb, var(--accent) 40%, transparent);
}

.badge-secondary {
    background: color-mix(in srgb, var(--muted) 15%, var(--card-bg));
    color: var(--muted);
    border-color: color-mix(in srgb, var(--muted) 30%, transparent);
}

/* ===== ACTION BUTTONS ===== */
.action-buttons {
    display: flex;
    justify-content: center;
}

.techcredit-payments-page[data-density="compact"] .action-buttons {
    gap: var(--spacing-1, 0.35rem);
}

.techcredit-payments-page[data-density="comfortable"] .action-buttons {
    gap: var(--spacing-2, 0.5rem);
}

.techcredit-payments-page[data-density="spacious"] .action-buttons {
    gap: var(--spacing-2, 0.65rem);
}

.action-buttons .k-button {
    transition: all var(--transition-fast, 100ms) ease;
}

/* ===== COMPACT-SPECIFIC ADJUSTMENTS ===== */
/* Hide the top-right tabs when density is compact */
.techcredit-payments-page[data-density="compact"] .view-selector {
    display: none;
}

/* Hide the top toolbar actions in compact density */
.techcredit-payments-page[data-density="compact"] .toolbar-section .toolbar-left,
.techcredit-payments-page[data-density="compact"] .toolbar-section .toolbar-right {
    display: none;
}

/* SECTION TITLE: make space for right-aligned actions (compact and default) */
.section-actions {
    display: flex;
    align-items: center;
    gap: var(--spacing-2, 0.5rem);
}

    /* Buttons inside section headers are smaller and tighter */
    .section-actions .k-button,
    .section-actions button {
        height: 30px;
        padding: 0 var(--spacing-2, 8px);
        font-size: 0.85rem;
        display: inline-flex;
        align-items: center;
        gap: var(--spacing-1, 0.4rem);
    }

    .section-actions .k-icon {
        margin-right: var(--spacing-2, 6px);
    }

/* Compact history date range styling in header */
.compact-date-range {
    display: flex;
    align-items: center;
    gap: var(--spacing-2, 0.5rem);
}

.compact-history-label {
    font-weight: 600;
    color: var(--muted);
    font-size: 0.85rem;
    white-space: nowrap;
    font-family: var(--base-font-family, inherit);
    transition: color var(--transition-normal, 150ms) ease;
}

/* Tighter grid container for compact internal collapsibles */
.techcredit-payments-page[data-density="compact"] .compact-past-due-section .grid-container,
.techcredit-payments-page[data-density="compact"] .compact-scheduled-section .grid-container,
.techcredit-payments-page[data-density="compact"] .compact-history-section .grid-container,
.techcredit-payments-page[data-density="compact"] .compact-remitted-section .grid-container {
    border-radius: var(--radius-md, 6px);
    overflow: hidden;
    margin-top: var(--spacing-1, 0.25rem);
}

/* Small visual polish for compact */
.techcredit-payments-page[data-density="compact"] .section-title h2 {
    font-size: 1rem;
    margin: 0;
}

/* ===== BORDER RADIUS VARIANTS ===== */
[data-radius="none"] .stat-card,
[data-radius="none"] .view-selector,
[data-radius="none"] .toolbar-section,
[data-radius="none"] .section-title,
[data-radius="none"] .section-title-static,
[data-radius="none"] .grid-container,
[data-radius="none"] .display-mode-selector,
[data-radius="none"] .badge,
[data-radius="none"] .days-overdue,
[data-radius="none"] .days-badge {
    border-radius: 0;
}

[data-radius="small"] .stat-card,
[data-radius="small"] .view-selector,
[data-radius="small"] .toolbar-section,
[data-radius="small"] .section-title,
[data-radius="small"] .section-title-static,
[data-radius="small"] .grid-container,
[data-radius="small"] .display-mode-selector {
    border-radius: var(--radius-sm, 4px);
}

[data-radius="large"] .stat-card,
[data-radius="large"] .view-selector,
[data-radius="large"] .toolbar-section,
[data-radius="large"] .section-title,
[data-radius="large"] .section-title-static,
[data-radius="large"] .grid-container,
[data-radius="large"] .display-mode-selector {
    border-radius: var(--radius-xl, 12px);
}

[data-radius="pill"] .view-tab,
[data-radius="pill"] .mode-btn,
[data-radius="pill"] .badge,
[data-radius="pill"] .days-overdue,
[data-radius="pill"] .days-badge {
    border-radius: var(--radius-full, 9999px);
}

/* ===== HIGH CONTRAST MODE ===== */
.high-contrast .stat-card {
    border-width: 2px;
    border-left-width: 6px;
}

.high-contrast .section-title,
.high-contrast .section-title-static {
    border-width: 2px;
    border-left-width: 6px;
}

.high-contrast .grid-container {
    border-width: 2px;
}

.high-contrast .view-selector,
.high-contrast .toolbar-section {
    border-width: 2px;
}

.high-contrast .badge,
.high-contrast .days-overdue,
.high-contrast .days-badge {
    border-width: 2px;
    font-weight: 700;
}

.high-contrast .view-tab.active {
    outline: 2px solid var(--text);
    outline-offset: 2px;
}

/* High contrast badge colors - solid backgrounds */
.high-contrast .badge-success {
    background: var(--kendo-color-success, #10b981);
    color: #ffffff;
}

.high-contrast .badge-warning {
    background: var(--kendo-color-warning, #f59e0b);
    color: #000000;
}

.high-contrast .badge-danger {
    background: var(--kendo-color-error, #dc2626);
    color: #ffffff;
}

.high-contrast .badge-info {
    background: var(--accent);
    color: #ffffff;
}

.high-contrast .days-overdue.days-critical {
    background: var(--kendo-color-error, #dc2626);
    color: #ffffff;
}

/* ===== REDUCED MOTION ===== */
.reduce-motion .techcredit-payments-page,
.reduce-motion .stat-card,
.reduce-motion .section-title,
.reduce-motion .view-tab,
.reduce-motion .mode-btn,
.reduce-motion .badge,
.reduce-motion .days-overdue,
.reduce-motion .grid-container .k-grid td,
.reduce-motion .action-buttons .k-button {
    transition: none !important;
}

/* ===== ENHANCED FOCUS ===== */
.enhanced-focus .view-tab:focus-visible,
.enhanced-focus .mode-btn:focus-visible,
.enhanced-focus .section-title:focus-visible,
.enhanced-focus .action-buttons .k-button:focus-visible {
    outline: 3px solid var(--accent);
    outline-offset: 2px;
}

.enhanced-focus .grid-container .k-grid tr:focus-within td {
    box-shadow: inset 0 0 0 2px var(--accent);
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 1400px) {
    .header-stats {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .techcredit-payments-page[data-density="compact"],
    .techcredit-payments-page[data-density="comfortable"],
    .techcredit-payments-page[data-density="spacious"] {
        padding: var(--spacing-2, 0.5rem);
    }

    .header-main {
        flex-direction: column;
        align-items: stretch;
    }

    .header-left {
        justify-content: space-between;
    }

    .view-selector {
        flex-direction: column;
    }

    .view-tab {
        justify-content: center;
    }

    .header-stats {
        grid-template-columns: 1fr;
    }

    .toolbar-section {
        flex-direction: column;
        align-items: stretch;
    }

    .toolbar-left,
    .toolbar-right {
        width: 100%;
        justify-content: center;
    }

    .date-range-filter {
        flex-direction: column;
        align-items: stretch;
    }

        .date-range-filter label {
            text-align: center;
        }

    .section-actions {
        flex-wrap: wrap;
        justify-content: flex-end;
    }

    .compact-date-range {
        flex-direction: column;
        align-items: flex-end;
    }
}

@media (max-width: 520px) {
    .section-title {
        flex-direction: column;
        align-items: stretch;
        gap: var(--spacing-2, 0.5rem);
    }

    .section-actions {
        justify-content: flex-end;
    }

    .compact-date-range {
        justify-content: flex-end;
    }
}

/* ===== PRINT STYLES ===== */
@media print {
    .techcredit-payments-page {
        padding: 0;
        gap: 0.5rem;
    }

    .toolbar-section,
    .view-selector,
    .display-mode-selector,
    .section-actions,
    .action-buttons {
        display: none !important;
    }

    .stat-card,
    .section-title,
    .section-title-static,
    .grid-container {
        break-inside: avoid;
        box-shadow: none;
        border: 1px solid #ccc;
    }

        .stat-card.stat-danger {
            border-left-color: #dc2626;
        }

        .stat-card.stat-warning {
            border-left-color: #f59e0b;
        }

        .stat-card.stat-success {
            border-left-color: #10b981;
        }

        .stat-card.stat-info {
            border-left-color: #3b82f6;
        }

    .badge,
    .days-overdue,
    .days-badge {
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
    }

    .header-stats {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Ensure grids print properly */
    .grid-container {
        overflow: visible;
        max-height: none;
    }

        .grid-container .k-grid {
            height: auto !important;
        }
}
