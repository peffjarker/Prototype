/* appearance-base.css - Professional Dark Mode Implementation */
/* Define all CSS variables with default values */
/* These will be overridden by appearance-manager.js when settings are loaded */

:root {
    /* ===== Light Theme Colors (Default) ===== */
    --app-bg: #ffffff;
    --page-bg: #f8f9fa;
    --card-bg: #ffffff;
    --header-bg: #f8f9fa;
    --nav-bg: #ffffff;
    /* Borders */
    --border: #e5e7eb;
    --border-strong: #d1d5db;
    --nav-border: #e5e7eb;
    /* Text */
    --text: #111827;
    --text-secondary: #4b5563;
    --muted: #6b7280;
    /* Interactive states */
    --hover-bg: #f3f4f6;
    --row-hover: #f9fafb;
    /* ===== Accent Colors ===== */
    /* Default blue */
    --accent: #0c5ea8;
    --accent-weak: #e6f0fb;
    --accent-hover: #0a4d8a;
    --accent-rgb: 12, 94, 168;
    /* Selection colors */
    --sel-bg: #dbeafe;
    --sel-border: #93c5fd;
    --sel-shadow: #bfdbfe;
    --sel-text: #1e40af;
    /* Shadows for light mode */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    /* ===== Typography ===== */
    --base-font-size: 14px;
    --base-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    --base-line-height: 1.5;
    /* ===== Transitions & Animations ===== */
    --transition-duration: 150ms;
    --animation-duration: 200ms;
    /* ===== Spacing (Kendo-style) ===== */
    --kendo-spacing-0: 0px;
    --kendo-spacing-1: 4px;
    --kendo-spacing-2: 8px;
    --kendo-spacing-3: 12px;
    --kendo-spacing-4: 16px;
    --kendo-spacing-5: 20px;
    --kendo-spacing-6: 24px;
    --kendo-spacing-7: 28px;
    --kendo-spacing-8: 32px;
    --kendo-spacing-9: 36px;
    --kendo-spacing-10: 40px;
    --kendo-spacing-11: 44px;
    --kendo-spacing-12: 48px;
    --kendo-spacing-13: 52px;
    --kendo-spacing-14: 56px;
    --kendo-spacing-15: 60px;
    --kendo-spacing-16: 64px;
    --kendo-spacing-17: 68px;
    --kendo-spacing-18: 72px;
    --kendo-spacing-19: 76px;
    --kendo-spacing-20: 80px;
    --kendo-spacing-21: 84px;
    --kendo-spacing-22: 88px;
    --kendo-spacing-23: 92px;
    --kendo-spacing-24: 96px;
    --kendo-spacing-25: 100px;
    --kendo-spacing-26: 104px;
    --kendo-spacing-27: 108px;
    --kendo-spacing-28: 112px;
    --kendo-spacing-29: 116px;
    --kendo-spacing-30: 120px;
    /* ===== Kendo Color Variables (optional compatibility) ===== */
    --kendo-color-border: rgba(0, 0, 0, 0.08);
    --kendo-color-app-surface: #fff;
    --kendo-color-on-app-surface: #212732;
}

/* ===== DARK MODE OVERRIDES ===== */
/* Professional dark mode with proper contrast ratios and elevation */
[data-theme="dark"] {
    /* Background layers - Using slate color palette for professional look */
    --app-bg: #0f172a; /* Darkest - App background */
    --page-bg: #0f172a; /* Page content area */
    --card-bg: #1e293b; /* Cards and panels - elevated */
    --header-bg: #1e293b; /* Section headers */
    --nav-bg: #1e293b; /* Navigation background */
    /* Borders - Lighter for better visibility in dark mode */
    --border: #334155; /* Standard borders */
    --border-strong: #475569; /* Emphasized borders */
    --nav-border: #334155;
    /* Text - High contrast for readability (WCAG AAA compliant) */
    --text: #f1f5f9; /* Primary text - 15.8:1 contrast */
    --text-secondary: #cbd5e1; /* Secondary text - 10.7:1 contrast */
    --muted: #94a3b8; /* Muted text - 6.4:1 contrast */
    /* Interactive states */
    --hover-bg: #334155; /* Hover state for interactive elements */
    --row-hover: #334155; /* Table row hover */
    /* ===== Accent Colors (Brighter for dark mode) ===== */
    --accent: #3b82f6; /* Brighter blue for visibility */
    --accent-weak: rgba(59, 130, 246, 0.15); /* Subtle accent background */
    --accent-hover: #2563eb; /* Darker on hover (inverted from light) */
    --accent-rgb: 59, 130, 246;
    /* Selection colors */
    --sel-bg: rgba(59, 130, 246, 0.2);
    --sel-border: #3b82f6;
    --sel-shadow: rgba(59, 130, 246, 0.3);
    --sel-text: #93c5fd;
    /* Shadows for dark mode - More pronounced for elevation */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.4);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
    /* Kendo compatibility */
    --kendo-color-border: rgba(255, 255, 255, 0.1);
    --kendo-color-app-surface: #1e293b;
    --kendo-color-on-app-surface: #f1f5f9;
    /* Color scheme declaration for browser integration */
    color-scheme: dark;
}

/* Alternative: System preference based dark mode (without data-theme attribute) */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) {
        /* Same dark mode variables as above */
        --app-bg: #0f172a;
        --page-bg: #0f172a;
        --card-bg: #1e293b;
        --header-bg: #1e293b;
        --nav-bg: #1e293b;
        --border: #334155;
        --border-strong: #475569;
        --nav-border: #334155;
        --text: #f1f5f9;
        --text-secondary: #cbd5e1;
        --muted: #94a3b8;
        --hover-bg: #334155;
        --row-hover: #334155;
        --accent: #3b82f6;
        --accent-weak: rgba(59, 130, 246, 0.15);
        --accent-hover: #2563eb;
        --accent-rgb: 59, 130, 246;
        --sel-bg: rgba(59, 130, 246, 0.2);
        --sel-border: #3b82f6;
        --sel-shadow: rgba(59, 130, 246, 0.3);
        --sel-text: #93c5fd;
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
        --kendo-color-border: rgba(255, 255, 255, 0.1);
        --kendo-color-app-surface: #1e293b;
        --kendo-color-on-app-surface: #f1f5f9;
        color-scheme: dark;
    }
}

/* ===== BASE STYLES ===== */

/* Apply base font settings to body */
body {
    font-family: var(--base-font-family);
    font-size: var(--base-font-size);
    line-height: var(--base-line-height);
    color: var(--text);
    background-color: var(--app-bg);
}

/* Smooth transitions for theme changes */
body,
.card,
.panel,
.settings-section,
input,
select,
textarea,
button {
    transition: background-color var(--transition-duration) ease, color var(--transition-duration) ease, border-color var(--transition-duration) ease, box-shadow var(--transition-duration) ease;
}

/* Prevent flash during initial load */
html {
    background-color: #ffffff;
}

    html[data-theme="dark"] {
        background-color: #0f172a;
    }

/* ===== IMPROVED CARD STYLES FOR DARK MODE ===== */

/* Add elevation to cards in dark mode */
[data-theme="dark"] .page-card,
[data-theme="dark"] .settings-section,
[data-theme="dark"] .card {
    background: var(--card-bg);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-md);
}

    [data-theme="dark"] .page-card:hover {
        background: #2d3748; /* Slightly lighter on hover */
        box-shadow: var(--shadow-lg);
        border-color: var(--border-strong);
    }

/* Improve favorites section in dark mode */
[data-theme="dark"] .favorites-section {
    background: linear-gradient(180deg, #1e293b 0%, #1e293b 100%);
    border: 1px solid #475569;
    box-shadow: var(--shadow-md);
}

    [data-theme="dark"] .favorites-section .section-header {
        border-bottom-color: #475569;
    }

        [data-theme="dark"] .favorites-section .section-header h2 {
            color: #fbbf24; /* Warm yellow for dark mode */
        }

        [data-theme="dark"] .favorites-section .section-header .k-svg-icon {
            color: #fbbf24;
        }

/* Favorite cards with subtle accent */
[data-theme="dark"] .page-card.favorite {
    background: linear-gradient(135deg, #1e293b 0%, #2d3748 100%);
    border: 1px solid #fbbf24;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(251, 191, 36, 0.2);
}

    [data-theme="dark"] .page-card.favorite:hover {
        background: linear-gradient(135deg, #2d3748 0%, #334155 100%);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(251, 191, 36, 0.3);
    }

/* Icon wrappers with better contrast */
[data-theme="dark"] .card-icon-wrapper {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: #ffffff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

    [data-theme="dark"] .card-icon-wrapper.favorite {
        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        color: #1e293b;
    }

/* Module titles with better separation */
[data-theme="dark"] .module-title {
    background: rgba(59, 130, 246, 0.1);
    border-left-color: #3b82f6;
    border: 1px solid #334155;
    border-left: 4px solid #3b82f6;
}

    [data-theme="dark"] .module-title h3 {
        color: #93c5fd;
    }

/* Improve text contrast for card descriptions */
[data-theme="dark"] .card-description {
    color: var(--text-secondary);
}

/* Badges with better visibility */
[data-theme="dark"] .badge {
    background: rgba(148, 163, 184, 0.2);
    color: #cbd5e1;
    border: 1px solid #475569;
}

/* Form elements in dark mode */
[data-theme="dark"] input,
[data-theme="dark"] select,
[data-theme="dark"] textarea {
    background: #1e293b;
    color: var(--text);
    border: 1px solid var(--border);
}

    [data-theme="dark"] input:focus,
    [data-theme="dark"] select:focus,
    [data-theme="dark"] textarea:focus {
        background: #334155;
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25);
        outline: none;
    }

    [data-theme="dark"] input::placeholder,
    [data-theme="dark"] textarea::placeholder {
        color: var(--muted);
    }

/* Buttons in dark mode */
[data-theme="dark"] .btn {
    background: var(--card-bg);
    color: var(--text);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-sm);
}

    [data-theme="dark"] .btn:hover {
        background: var(--hover-bg);
        border-color: var(--border-strong);
        box-shadow: var(--shadow-md);
    }

    [data-theme="dark"] .btn.primary {
        background: var(--accent);
        color: #ffffff;
        border-color: var(--accent);
    }

        [data-theme="dark"] .btn.primary:hover {
            background: var(--accent-hover);
            border-color: var(--accent-hover);
        }

/* Tables in dark mode */
[data-theme="dark"] .tbl thead th {
    background: #1e293b;
    color: var(--text);
    border-bottom: 2px solid var(--border-strong);
}

[data-theme="dark"] .tbl tbody td {
    background: #0f172a;
    color: var(--text);
    border-bottom: 1px solid var(--border);
}

[data-theme="dark"] .tbl tbody tr:nth-child(even) td {
    background: #1e293b;
}

[data-theme="dark"] .tbl tbody tr:hover td {
    background: var(--row-hover);
}

/* Section headers */
[data-theme="dark"] .section-header {
    background: var(--header-bg);
    border-bottom: 1px solid var(--border);
}

/* Scrollbar styling for dark mode */
[data-theme="dark"] ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
    background-color: var(--app-bg);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background-color: var(--border-strong);
    border-radius: 5px;
    border: 2px solid var(--app-bg);
}

    [data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
        background-color: #64748b;
    }

/* Firefox scrollbar */
[data-theme="dark"] * {
    scrollbar-width: thin;
    scrollbar-color: var(--border-strong) var(--app-bg);
}

    /* ===== ACCESSIBILITY IMPROVEMENTS ===== */

    /* Focus visible styles for keyboard navigation */
    [data-theme="dark"] *:focus-visible {
        outline: 2px solid var(--accent);
        outline-offset: 2px;
    }

/* High contrast mode support */
@media (prefers-contrast: high) {
    [data-theme="dark"] {
        --text: #ffffff;
        --border: #64748b;
        --border-strong: #94a3b8;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Print styles - always use light mode for printing */
@media print {
    * {
        color-scheme: light !important;
        background: white !important;
        color: black !important;
    }
}
